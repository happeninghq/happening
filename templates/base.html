{% load staticfiles %}
{% load compress %}
{% load happening_ganalytics %}
{% load plugins %}

<!DOCTYPE html>
<html>
<head>
    <title>{{"pages.configuration.SiteTitle"|get_configuration}}</title>
    <link rel="stylesheet" type="text/css" href="{% static "css/generated.css" %}" />
    {% compress css %}
        <link rel="stylesheet" type="text/css" href="{% static "lib/responsive-tables/css/responsive-tables.css" %}" />
        {% block style %}

        {% endblock style %}
    {% endcompress %}
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <script src="{% static "modernizr/modernizr.js" %}"></script>
    {% ganalytics %}
</head>
<body>
    {% block navbar %}
        {% include "_navbar.html" %}
    {% endblock %}
    <div class="container">
        {% if messages %}
            <div class="row">
                <div class="small-12 columns">
                    <div id="messages">
                        {% for message in messages %}
                            {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
                                <div data-alert class="alert-box alert">
                            {% else %}
                                {% if message.level == DEFAULT_MESSAGE_LEVELS.INFO %}
                                    <div data-alert class="alert-box info">
                                {% else %}
                                    {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
                                        <div data-alert class="alert-box success">
                                    {% else %}
                                        <div data-alert class="alert-box secondary">
                                    {% endif %}
                                {% endif %}
                            {% endif %}

                                {{message}}
                                <a href="#" class="close">&times;</a>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        {% endif %}
        {% block container %}
            {% block content %}
            {% endblock %}
        {% endblock %}
    </div>
    <div id="bottom">
        {% plugin_block "happening.footer" %}
        <div class="container">
            <div class="row">
                <div class="small-12 column">
                    <div id="contacts">
                        <a href="http://twitter.com/sotoncodedojo" title="Southampton Code Dojo on Twitter"><img src="{% static "img/twitter.png" %}"></a>
                        <a href="http://facebook.com/groups/SouthamptonCodeDojo/" title="Southampton Code Dojo on Facebook"><img src="{% static "img/facebook.png" %}"></a>
                        <a href="http://www.meetup.com/Southampton-Code-Dojo/" title="Southampton Code Dojo on Meetup"><img src="{% static "img/meetup.png" %}"></a>
                        <a href="https://github.com/southampton-code-dojo/" title="Southampton Code Dojo on Github"><img src="{% static "img/github.png" %}"></a>
                        <a href="mailto:admin@southamptoncodedojo.com" title="Email Us"><img src="{% static "img/email.png" %}"></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% block external_scripts %}
    {% endblock %}
    {% compress js %}
        <script src="{% static "jquery/dist/jquery.min.js" %}"></script>
        <script src="{% static "lib/throttle.js" %}"></script>
        <script src="{% static "knockout/dist/knockout.js" %}"></script>
        <script src="{% static "foundation/js/foundation.min.js" %}"></script>
        <script src="{% static "foundation/js/foundation/foundation.topbar.js" %}"></script>
        <!-- We put this here rather that at each point to make it easier to replace later if needed. Will also need to edit edit_markdown.coffee -->
        <script src="{% static "epiceditor/epiceditor/js/epiceditor.min.js" %}"></script>
        <script src="{% static "datetimepicker/jquery.datetimepicker.js" %}"></script>
        <script src="{% static "lib/responsive-tables/js/responsive-tables.js" %}"></script>
        <script src="{% static "jquery-timeago/jquery.timeago.js" %}"></script>
        <script src="{% static "datatables/media/js/jquery.dataTables.min.js" %}"></script>
        <script src="{% static "lib/datatables.foundation/datatables.foundation.js" %}"></script>
        <script type="text/coffeescript" src="{% static "coffeescript/notifications.coffee" %}"></script>

        <script type="text/coffeescript" src="{% static "coffeescript/edit_markdown.coffee" %}"></script>
        <script type="text/coffeescript" src="{% static "coffeescript/comments.coffee" %}"></script>
        <script type="text/coffeescript" src="{% static "coffeescript/ajax.coffee" %}"></script>
        <script type="text/coffeescript" src="{% static "coffeescript/datatables.coffee" %}"></script>


        <!-- Properties -->
        <script type="text/coffeescript" src="{% static "coffeescript/widgets/properties.coffee" %}" defer></script>
        <script type="text/coffeescript" src="{% static "coffeescript/widgets/datetime.coffee" %}" defer></script>

        {% block scripts %}
        {% endblock %}

        <script>
            $(document).foundation();
        </script>
    {% endcompress %}
</body>
</html>